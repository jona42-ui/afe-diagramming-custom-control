"use strict";

var _react = _interopRequireDefault(require("react"));

var _enzyme = require("enzyme");

var _Pager = _interopRequireDefault(require("../Pager"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('Pager', function () {
  describe('Renders common props as expected', function () {
    var wrapper = (0, _enzyme.mount)(_react.default.createElement(_Pager.default, {
      totalItems: 10,
      className: "extra-class"
    }));
    it('Renders the component as expected', function () {
      expect(wrapper.length).toEqual(1);
    });
    it('Renders the expected className', function () {
      expect(wrapper.children().hasClass('bx--pager')).toEqual(true);
    });
    it('Renders an extra className', function () {
      expect(wrapper.hasClass('extra-class')).toEqual(true);
    });
    it('Renders the expected amount of li', function () {
      expect(wrapper.find('.bx--pager__page-item').length).toBe(4);
    });
    it('Renders the expected start page', function () {
      expect(wrapper.props().initialPage).toBe(1);
    });
  });
  describe('Changes between page values as expected', function () {
    var wrapper = (0, _enzyme.mount)(_react.default.createElement(_Pager.default, {
      totalItems: 10
    }));
    it('Increases the page value on increment', function () {
      expect(wrapper.state().activePage).toBe(1);
      wrapper.find('.bx--pager__button--forward').simulate('click');
      expect(wrapper.state().activePage).toBe(2);
    });
    it('Decreases the page value on decrement', function () {
      expect(wrapper.state().activePage).toBe(2);
      wrapper.find('.bx--pager__button--backward').simulate('click');
      expect(wrapper.state().activePage).toBe(1);
    });
    it('Increases the page value on right arrow', function () {
      var firstButton = wrapper.find('.bx--pager__page-item').first().simulate('focus');
      firstButton.simulate('keyUp', {
        key: 'ArrowRight',
        keyCode: 39,
        which: 39
      });
      expect(wrapper.state().activePage).toBe(2);
    });
    it('Decreases the page value on left arrow', function () {
      var firstButton = wrapper.find('.bx--pager__page-item').last().simulate('focus');
      firstButton.simulate('keyUp', {
        key: 'ArrowLeft',
        keyCode: 37,
        which: 37
      });
      expect(wrapper.state().activePage).toBe(1);
    });
    it('Selects the page value on click', function () {
      var firstButton = wrapper.find('.bx--pager__page-item').first().simulate('focus');
      firstButton.simulate('keyUp', {
        key: 'ArrowRight'
      });
      expect(wrapper.state().activePage).toBe(2);
      wrapper.find('.bx--pager__page-item').first().simulate('click');
      expect(wrapper.state().activePage).toBe(1);
    });
  });
});